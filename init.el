;;; init.el --- -*- lexical-binding: t -*-

(defvar ale-debug-p t)
(defvar ale-init-directory (file-name-directory user-init-file))
(defvar ale-extension-autoload-dir (concat user-emacs-directory "ale-autoload/"))
(defvar ale-autoload-file (concat user-emacs-directory "ale-autoload.el"))
(defvar ale-autoload-directories `(,(concat ale-init-directory "autoload/")
                                   ,ale-extension-autoload-dir))
(load (concat ale-init-directory "init-package.el") nil t)

(let ((target-minimal (concat user-emacs-directory "ale-minimal.el"))
      (target-full (concat user-emacs-directory "ale-full.el")))
  (unless (file-exists-p target-full)
    (autoload 'ale-bootstrap-tangle (concat ale-init-directory "core/autoload/bootstrap"))
    (ale-bootstrap-tangle t))
  (unless (file-exists-p ale-autoload-file)
    (autoload 'ale-bootstrap-gen-autoloads (concat ale-init-directory "core/autoload/bootstrap"))
    (ale-bootstrap-gen-autoloads))
  (load ale-autoload-file nil t)
  (require 'core-editor)
  (require 'core-completion)
  (require 'core-ui)
  (require 'core-bindings)
  (load target-minimal nil t)
  (when (daemonp) (load target-full nil t)))
